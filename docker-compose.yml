version: "3"

services:
    postgres:
        image: postgres:14.5-alpine
        restart: always
        environment:
            POSTGRES_PASSWORD: postgres
            POSTGRES_USER: postgres
        ports:
            - 5432:5432
        volumes:
            - postgres:/var/lib/postgresql/data
    # pgadmin:
    #     image: dpage/pgadmin4
    #     environment:
    #         PGADMIN_DEFAULT_EMAIL: admin@pgadmin.com
    #         PGADMIN_DEFAULT_PASSWORD: password
    #         PGADMIN_LISTEN_PORT: 80
    #     ports:
    #         - 15432:80
    #     volumes:
    #         - pgadmin:/var/lib/pgadmin
    #     depends_on:
    #         - postgres
    zerologin:
        image: zerologin:2
        environment:
            PORT: 3333
            HOST: 0.0.0.0
            APP_URL: http://localhost:3333
            NODE_ENV: development
            APP_KEY: vhQsDNQLKFN922MF6rxpQDelwrTrR3fL
            DRIVE_DISK: local
            SESSION_DRIVER: cookie
            CACHE_VIEWS: "false"
            DB_CONNECTION: pg
            PG_HOST: localhost
            PG_PORT: 5432
            PG_USER: postgres
            PG_PASSWORD: postgres
            PG_DB_NAME: postgres
            JWT_SECRET: myjwtsecret
        ports:
            - 3333:3333
        depends_on: 
            - postgres


volumes:
    postgres:
    pgadmin: